---
phase: 15-cicd-pipeline-migration
plan: 01
type: execute
---

<objective>
Configure Coolify application with GitHub integration for automated deployments.

Purpose: Set up the Coolify-side infrastructure that enables git-push deployments from GitHub.
Output: Coolify application configured with GitHub source and webhook URL ready for GitHub Actions integration.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-phase.md
./summary.md
~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/14-coolify-installation/14-01-SUMMARY.md

**Coolify Dashboard:** http://3.130.209.141:8000
**Admin Account:** admin@nomadcrew.uk
**GitHub Repo:** https://github.com/NomadCrew/nomad-crew-backend

**From Phase 14:**
- Coolify v4.0.0-beta.460 running on AWS EC2 at 3.130.209.141
- Docker 27.0.3 installed
- Traefik reverse proxy available
- Server validated in Coolify dashboard
</context>

<tasks>

<task type="checkpoint:human-action" gate="blocking">
  <action>Create Coolify application with GitHub source</action>
  <instructions>
    **This step requires browser interaction with Coolify dashboard:**

    1. Open Coolify dashboard: http://3.130.209.141:8000
    2. Login with admin@nomadcrew.uk
    3. Create a new Project (if not exists): "NomadCrew"
    4. Within the project, create a new Application:
       - Click "New" → "Application"
       - Source: "GitHub (Public)"
       - Repository: `NomadCrew/nomad-crew-backend`
       - Branch: `main`
       - Build Pack: "Dockerfile"
       - Port: 8080
    5. In Application Settings:
       - Name: `nomadcrew-backend`
       - Enable "Auto Deploy" (webhook-based)
    6. Go to "Webhooks" tab and copy the **Webhook URL** and **Secret**

    **Record these values (you'll need them for the next plan):**
    - Webhook URL: ____________________
    - Webhook Secret: ____________________
  </instructions>
  <verification>Application appears in Coolify dashboard with "Waiting for first deployment" status</verification>
  <resume-signal>Type "done" and provide the Webhook URL and Secret values</resume-signal>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Coolify application configuration with GitHub source</what-built>
  <how-to-verify>
    1. Visit http://3.130.209.141:8000
    2. Navigate to NomadCrew project → nomadcrew-backend application
    3. Verify settings:
       - Source shows GitHub repo connected
       - Build Pack is "Dockerfile"
       - Port is 8080
       - Auto Deploy is enabled
    4. Confirm Webhook tab shows valid webhook URL
  </how-to-verify>
  <resume-signal>Type "approved" if all settings correct, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Coolify application "nomadcrew-backend" exists
- [ ] GitHub source configured (NomadCrew/nomad-crew-backend, main branch)
- [ ] Dockerfile build pack selected
- [ ] Port 8080 configured
- [ ] Auto Deploy enabled
- [ ] Webhook URL and Secret recorded for Plan 15-02
</verification>

<success_criteria>
- Coolify application created and configured
- GitHub source connected
- Webhook credentials available for GitHub Actions
- Ready for Plan 15-02 (GitHub workflow migration)
</success_criteria>

<output>
After completion, create `.planning/phases/15-cicd-pipeline-migration/15-01-SUMMARY.md`:

# Phase 15 Plan 01: Coolify Application Setup Summary

**[One-liner summary]**

## Accomplishments

- Coolify application created
- GitHub source configured
- Webhook credentials obtained

## Configuration Details

| Setting | Value |
|---------|-------|
| Application Name | nomadcrew-backend |
| GitHub Repo | NomadCrew/nomad-crew-backend |
| Branch | main |
| Build Pack | Dockerfile |
| Port | 8080 |
| Webhook URL | [recorded] |

## Decisions Made

[Any decisions and rationale]

## Issues Encountered

[Problems and resolutions, or "None"]

## Next Step

Ready for 15-02-PLAN.md (GitHub Workflow Migration)
</output>
